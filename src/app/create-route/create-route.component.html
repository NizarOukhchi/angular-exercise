<div class="flex flex-col items-center w-1/2 mx-auto">
    <h1>Create a new Pokemon</h1>
    <form [formGroup]="pokemonForm" (ngSubmit)="submit()" class="flex flex-col w-full gap-6 mt-6">
        <div class="flex flex-col gap-2">
            <label for="name">Name *</label>
            <input type="text" id="name" formControlName="name" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('name')?.hasError('required') && getControl('name')?.touched">
                Name is required
            </small>
            <small class="text-red-500" *ngIf="getControl('name')?.hasError('nameExists') && getControl('name')?.touched">
                this Name already exists
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="attack">Attack *</label>
            <input type="number" id="attack" formControlName="attack" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('attack')?.hasError('required') && getControl('attack')?.touched">
                Attack is required
            </small>
            <small class="text-red-500" *ngIf="getControl('attack')?.hasError('min') && getControl('attack')?.touched">
                Attack must be greater than 0
            </small>
            <small class="text-red-500" *ngIf="getControl('attack')?.hasError('max') && getControl('attack')?.touched">
                Attack must be less than 100
            </small>
        </div>
        <div class="flex flex-col gap-2">
            <label for="defense">Defense *</label>
            <input type="number" id="defense" formControlName="defense" class="border rounded-md shadow px-4 py-2">
            <small class="text-red-500" *ngIf="getControl('defense')?.hasError('required') && getControl('defense')?.touched">
                Defense is required
            </small>
            <small class="text-red-500" *ngIf="getControl('defense')?.hasError('min') && getControl('defense')?.touched">
                Defense must be greater than 0
            </small>
            <small class="text-red-500" *ngIf="getControl('defense')?.hasError('max') && getControl('defense')?.touched">
                Defense must be less than 100
            </small>
        </div>
        <div class="flex items-center gap-2">
            <label for="hasEvolution" class="cursor-pointer">Has evolution</label>
            <input type="checkbox" id="hasEvolution" formControlName="hasEvolution" class="border rounded-md shadow">
        </div>
        <div class="flex flex-col gap-2">
            <label for="description">Description *</label>
            <textarea type="text" id="description" formControlName="description" class="border rounded-md shadow px-4 py-2"></textarea>
            <small class="text-red-500" *ngIf="getControl('description')?.hasError('required') && getControl('description')?.touched">
                Description is required
            </small>
        </div>
        <button type="submit"
            class="border border-green-400 rounded-md shadow p-2 bg-green-400 hover:bg-green-500 text-green-900 w-1/3 ml-auto disabled:opacity-50"
            [disabled]="isLoading || !canSubmit()"
            >{{isLoading ? 'Creation...': 'Create'}}</button>
    </form>
</div>